# Data Controllers

## Overview

Data Controllers is the base class of the data-API module,
it is the link between your database tables and the API endpoints.

It will create endpoints according to specified routes in parameters, and expose
the table fields given in the class which extends it.

## Creating a Data Controller

A Data Controller is created by extending the `DataController` class with your table class, route definitions, and controller base.

```typescript
import { DataController, DefaultRoutes, RegisterDataController } from '@ajs/data-api/beta';
import { Controller } from '@ajs/api/beta';
import { Table, Index, RegisterTable, BasicDataModel, StaticModel } from '@ajs/database-decorators/beta';

// Define your table
@RegisterTable('users')
class User extends Table {
  @Index({ primary: true })
  declare _id: string;

  declare email: string;
  declare age: number;
}
// Create your database model
class UserModel extends BasicDataModel(User, 'users') {}

// Create the Data Controller
@RegisterDataController()
class UserAPI extends DataController(User, DefaultRoutes.All, Controller('/users')) {
  @ModelReference()
  @StaticModel(UserModel, 'my-database')
  declare userModel: UserModel;

  // Field to expose go here
  declare _id: string;
  declare email: string;
  //...
}
```

## Required Components

A Data Controller requires the following components:

1. **Table Class**: Your database table definition
2. **Route Definitions**: Which operations to enable and enpoint to expose
   - `DefaultRoutes` for common operations like `get`, `list`, `new`, `edit`, and `delete`.
   - You can also define custom routes as needed.
3. **Controller Base**: The base path for the endpoints
4. **Model Reference**: Database model instance for operations

## Continuing with Routes

See the [routes documentation](./3.routes.md) to see available routes and how to customize them.